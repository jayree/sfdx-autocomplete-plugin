diff --git a/node_modules/@salesforce/dev-scripts/bin/sf-clean.js b/node_modules/@salesforce/dev-scripts/bin/sf-clean.js
index 90af01f..ff466a9 100755
--- a/node_modules/@salesforce/dev-scripts/bin/sf-clean.js
+++ b/node_modules/@salesforce/dev-scripts/bin/sf-clean.js
@@ -38,7 +38,7 @@ if (gitignorePath) {
 
   // The first line of the segment is what we are looking for. Either # -- CLEAN or # -- CLEAN ALL
   if (segments['CLEAN']) {
-    toClean = segments['CLEAN'];
+    toClean = toClean.concat(segments['CLEAN']);
   } else {
     const example = join(__dirname, '..', 'files', '.gitignore');
     log(
@@ -48,7 +48,7 @@ if (gitignorePath) {
     );
   }
   if (segments['CLEAN ALL']) {
-    toCleanAll = segments['CLEAN ALL'];
+    toCleanAll = toCleanAll.concat(segments['CLEAN ALL']);
   }
 }
 
@@ -57,5 +57,6 @@ if (cleanAll) {
   toClean = [...toClean, ...toCleanAll];
 }
 
+toClean = [...new Set(toClean)]
 log(`rm -rf ${toClean}`);
 shell.rm('-rf', toClean);
diff --git a/node_modules/@salesforce/dev-scripts/bin/sf-install.js b/node_modules/@salesforce/dev-scripts/bin/sf-install.js
index 2e1a739..67d15b0 100755
--- a/node_modules/@salesforce/dev-scripts/bin/sf-install.js
+++ b/node_modules/@salesforce/dev-scripts/bin/sf-install.js
@@ -19,7 +19,8 @@ if (changed) {
 } else {
   require('../utils/standardize-pjson')();
   require('../utils/standardize-files')();
-  if (exists('.git')) {
+  const isCi = process.env.CI !== undefined;
+  if (exists('.git') && !isCi) {
     require('../utils/husky-init')();
   }
 }
diff --git a/node_modules/@salesforce/dev-scripts/files/mocharc.json b/node_modules/@salesforce/dev-scripts/files/mocharc.json
index 2e6bae4..4253f30 100644
--- a/node_modules/@salesforce/dev-scripts/files/mocharc.json
+++ b/node_modules/@salesforce/dev-scripts/files/mocharc.json
@@ -3,5 +3,6 @@
   "watch-extensions": "ts",
   "recursive": true,
   "reporter": "spec",
-  "timeout": 5000
+  "timeout": 5000,
+  "node-option": ["experimental-specifier-resolution=node", "loader=ts-node/esm"]
 }
diff --git a/node_modules/@salesforce/dev-scripts/files/tsconfig-strict.json b/node_modules/@salesforce/dev-scripts/files/tsconfig-strict.json
index d4f6ee8..7e65dc8 100644
--- a/node_modules/@salesforce/dev-scripts/files/tsconfig-strict.json
+++ b/node_modules/@salesforce/dev-scripts/files/tsconfig-strict.json
@@ -5,7 +5,11 @@
   "extends": "@salesforce/dev-config/tsconfig-strict",
   "compilerOptions": {
     "outDir": "lib",
-    "incremental": true
+    "module": "node16",
+    "moduleResolution": "node16",
+    "skipLibCheck": true,
+    "incremental": true,
+    "tsBuildInfoFile": ".tsbuildinfo"
   },
   "include": ["./src/**/*.ts"]
 }
diff --git a/node_modules/@salesforce/dev-scripts/files/tsconfig-test-strict.json b/node_modules/@salesforce/dev-scripts/files/tsconfig-test-strict.json
index 44147cc..25e4a7c 100644
--- a/node_modules/@salesforce/dev-scripts/files/tsconfig-test-strict.json
+++ b/node_modules/@salesforce/dev-scripts/files/tsconfig-test-strict.json
@@ -3,5 +3,8 @@
 
 {
   "extends": "@salesforce/dev-config/tsconfig-test-strict",
+  "compilerOptions": {
+    "skipLibCheck": true
+  },
   "include": ["./**/*.ts"]
 }
diff --git a/node_modules/@salesforce/dev-scripts/files/tsconfig.json b/node_modules/@salesforce/dev-scripts/files/tsconfig.json
index f4f0945..90c250a 100644
--- a/node_modules/@salesforce/dev-scripts/files/tsconfig.json
+++ b/node_modules/@salesforce/dev-scripts/files/tsconfig.json
@@ -1,7 +1,12 @@
 {
   "extends": "@salesforce/dev-config/tsconfig",
   "compilerOptions": {
-    "outDir": "lib"
+    "outDir": "lib",
+    "module": "node16",
+    "moduleResolution": "node16",
+    "skipLibCheck": true,
+    "incremental": true,
+    "tsBuildInfoFile": ".tsbuildinfo"
   },
   "include": ["./src/**/*.ts"]
 }
diff --git a/node_modules/@salesforce/dev-scripts/package.json b/node_modules/@salesforce/dev-scripts/package.json
index aac690f..a58dee7 100644
--- a/node_modules/@salesforce/dev-scripts/package.json
+++ b/node_modules/@salesforce/dev-scripts/package.json
@@ -40,6 +40,7 @@
     "@types/mocha": "^9.0.0",
     "@types/node": "^15.6.1",
     "@types/sinon": "10.0.11",
+    "c8": "^7.12.0",
     "chai": "^4.2.0",
     "chalk": "^4.0.0",
     "cosmiconfig": "^7.0.0",
diff --git a/node_modules/@salesforce/dev-scripts/utils/sf-config.js b/node_modules/@salesforce/dev-scripts/utils/sf-config.js
index 4c116b8..b69cc44 100644
--- a/node_modules/@salesforce/dev-scripts/utils/sf-config.js
+++ b/node_modules/@salesforce/dev-scripts/utils/sf-config.js
@@ -31,17 +31,17 @@ const PACKAGE_DEFAULTS = {
       dependencies: ['compile', 'lint'],
     },
     compile: {
-      command: 'tsc -p . --pretty --incremental',
+      command: 'tsc --build --pretty',
       files: ['src/**/*.ts', 'tsconfig.json', 'messages/**'],
-      output: ['lib/**', '*.tsbuildinfo'],
+      output: ['lib/**', '.tsbuildinfo'],
       clean: 'if-file-deleted',
     },
     format: {
       command: 'prettier --write "+(src|test|schemas)/**/*.+(ts|js|json)|command-snapshot.json"',
     },
     lint: {
-      command: 'eslint src test --color --cache --cache-location .eslintcache',
-      files: ['src/**/*.ts', 'test/**/*.ts', 'messages/**', '.eslintignore', '.eslintrc.js'],
+      command: 'eslint --color --cache --cache-location .eslintcache .',
+      files: ['src/**/*.ts', 'test/**/*.ts', 'messages/**', '.eslintignore', '.eslintrc.*'],
       output: [],
     },
     'test:compile': {
@@ -53,7 +53,7 @@ const PACKAGE_DEFAULTS = {
       dependencies: ['test:only', 'test:compile'],
     },
     'test:only': {
-      command: 'nyc mocha "test/**/*.test.ts"',
+      command: 'c8 mocha "test/**/*.test.ts"',
       files: ['test/**/*.ts', 'src/**/*.ts', 'tsconfig.json', 'test/tsconfig.json'],
       output: [],
     },
@@ -70,18 +70,18 @@ const PLUGIN_DEFAULTS = {
   wireit: {
     ...PACKAGE_DEFAULTS.wireit,
     'test:command-reference': {
-      command: `"./bin/dev" commandreference:generate --erroronwarnings`,
+      command: `"./bin/dev.js" commandreference:generate --erroronwarnings`,
       files: ['src/**/*.ts', 'messages/**'],
       output: ['tmp/root'],
     },
     'test:deprecation-policy': {
-      command: '"./bin/dev" snapshot:compare',
+      command: '"./bin/dev.js" snapshot:compare',
       files: ['src/**/*.ts'],
       output: [],
       dependencies: ['compile'],
     },
     'test:json-schema': {
-      command: '"./bin/dev" schema:compare',
+      command: '"./bin/dev.js" schema:compare',
       files: ['src/**/*.ts', 'schemas'],
       output: [],
     },
@@ -118,7 +118,7 @@ const resolveConfig = (path) => {
   const configFromFile = (result && result.config) || {};
 
   if (configFromFile.test?.testsPath) {
-    defaults.wireit['test:only'].command = `nyc mocha "${configFromFile.test.testsPath}"`;
+    defaults.wireit['test:only'].command = `c8 mocha "${configFromFile.test.testsPath}"`;
   }
 
   // Allow users to override certain scripts
@@ -140,6 +140,8 @@ const resolveConfig = (path) => {
   // Remove excluded items
   excludeScripts.forEach((scriptName) => {
     delete config.scripts[scriptName];
+    delete config.wireit[scriptName];
+    config.wireit.test.dependencies = config.wireit.test.dependencies.filter(scriptName => !config['exclude-scripts'].includes(scriptName));
   });
 
   resolvedConfigs[path] = config;
diff --git a/node_modules/@salesforce/dev-scripts/utils/standardize-files.js b/node_modules/@salesforce/dev-scripts/utils/standardize-files.js
index 6a851f6..ac30cf1 100644
--- a/node_modules/@salesforce/dev-scripts/utils/standardize-files.js
+++ b/node_modules/@salesforce/dev-scripts/utils/standardize-files.js
@@ -18,6 +18,9 @@ const FILE_NAME_LICENSE = 'LICENSE.txt';
 const FILE_NAME_GITIGNORE = 'gitignore';
 const FILE_NAME_MOCHARC = 'mocharc.json';
 
+let config;
+let pkgRoot;
+
 function isDifferent(sourcePath, targetPath) {
   try {
     // Using .replace() to normalize line endings across operating systems.
@@ -37,7 +40,7 @@ function copyFile(sourcePath, targetPath, override = false) {
   const fileExists = exists(targetPath);
   const shouldWriteFile = override || !fileExists;
 
-  if (shouldWriteFile && isDifferent(sourcePath, targetPath)) {
+  if (shouldWriteFile && isDifferent(sourcePath, targetPath) && !(config['exclude-files'] || []).some((e) => targetPath === join(pkgRoot,e))) {
     copyFileSync(sourcePath, targetPath);
     return targetPath;
   }
@@ -94,7 +97,8 @@ function writeMocharcJson(targetDir) {
 
 // eslint-disable-next-line complexity
 module.exports = (packageRoot = require('./package-path')) => {
-  const config = resolveConfig(packageRoot);
+  config = resolveConfig(packageRoot);
+  pkgRoot = packageRoot;
   const testPath = join(packageRoot, 'test');
   const scripts = config.scripts;
 
diff --git a/node_modules/@salesforce/dev-scripts/utils/write-dependencies.js b/node_modules/@salesforce/dev-scripts/utils/write-dependencies.js
index 928b982..5fc50dd 100644
--- a/node_modules/@salesforce/dev-scripts/utils/write-dependencies.js
+++ b/node_modules/@salesforce/dev-scripts/utils/write-dependencies.js
@@ -69,7 +69,7 @@ module.exports = (projectPath) => {
   add('@salesforce/dev-config');
 
   // Included by dev-scripts
-  add('nyc');
+  add('c8');
   add('ts-node');
   add('mocha');
   add('sinon');
@@ -85,7 +85,7 @@ module.exports = (projectPath) => {
   remove('@types/sinon');
   remove('typedoc');
   remove('typedoc-plugin-missing-exports');
-  remove('eslint-plugin-prettier');
+  // remove('eslint-plugin-prettier');
   remove('lint-staged');
   remove('cz-conventional-changelog');
   // We use eslint now
